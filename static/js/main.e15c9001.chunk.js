(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{17:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return o}));var r="https://jsonplaceholder.typicode.com",a="/posts",c="/users",o="/comments"},18:function(e,t){},23:function(e,t,n){e.exports=n(44)},33:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),o=n(7),u=n.n(o),s=n(4),i=(n(33),n(34),n(20)),l=n.n(i),m=function(e){var t=e.user,n=t.name,r=t.address,a=t.email;return c.a.createElement("div",{className:"user"},c.a.createElement("p",null,"Contact info:"),c.a.createElement("p",null,"name: ".concat(n,", email: ").concat(a)),c.a.createElement("p",null,"address: ".concat(r.zipcode,", ").concat(r.street,", ").concat(r.city)))};!function(e){e.SET_POSTS="SET_POSTS",e.SET_LOADING="SET_LOADING",e.DELETE_POST="DELETE_POST",e.DELETE_COMMENT="DELETE_COMMENT",e.SET_QUERY="SET_QUERY",e.SET_ERROR="SET_ERROR"}(r||(r={}));var p=function(e){return{type:r.SET_POSTS,payload:e}},d=function(e){return{type:r.SET_LOADING,payload:e}},f=function(e){return{type:r.SET_ERROR,payload:e}},E={deleteComment:function(e){return{type:r.DELETE_COMMENT,payload:e}}},b=Object(s.b)(null,E)((function(e){var t=e.deleteComment,n=e.comment,r=n.name,a=n.body,o=n.email,u=n.id;return c.a.createElement("div",{className:"card text-white bg-info mb-3"},c.a.createElement("h3",{className:"card-header"},r),c.a.createElement("div",{className:"card-body"},c.a.createElement("blockquote",{className:"blockquote mb-0"},c.a.createElement("p",null,a),c.a.createElement("footer",{className:"blockquote-footer"},o))),c.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(){return t(u)}},"Delete comment"))})),y=function(e){var t=e.comments;return c.a.createElement("div",{className:"commentList"},c.a.createElement("div",{className:"comments"},t.map((function(e){return c.a.createElement(b,{key:e.id,comment:e})}))))},O={deletePost:function(e){return{type:r.DELETE_POST,payload:e}}},v=Object(s.b)(null,O)((function(e){var t=e.deletePost,n=e.post,r=n.title,a=n.body,o=n.id,u=n.user,s=n.comments;return c.a.createElement("div",{className:"list__item"},c.a.createElement("div",{className:"card"},c.a.createElement("h4",{className:"card-header"},r),c.a.createElement("div",{className:"card-body"},c.a.createElement("blockquote",{className:"blockquote mb-0"},c.a.createElement("p",null,a),c.a.createElement("footer",{className:"blockquote-footer"},c.a.createElement(m,{user:u}))),c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return t(o)}},"Delete post"),c.a.createElement(y,{comments:s}))))})),S=function(e){var t=e.posts;return c.a.createElement("div",{className:"list"},t.map((function(e){return c.a.createElement(v,{key:e.id,post:e})})))},T=n(1),_=n.n(T),h=n(3),N=n(5),L=n(21),j=n(8),R=n(2),k={posts:[],isLoading:!1,query:"",error:!1},g=function(e){return e.posts},x=function(e){return e.isLoading},w=function(e){return e.query},D=function(e){return e.error},C=n(22),P=n(6),U=function(){var e=Object(h.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(P.BASE_URL).concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(h.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(P.USERS_URL);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(h.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(P.COMMENTS_URL);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(h.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(P.POSTS_URL);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(h.a)(_.a.mark((function e(){var t,n,r,a,c,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([M(),q(),I()]);case 2:return t=e.sent,n=Object(C.a)(t,3),r=n[0],a=n[1],c=n[2],o=c.map((function(e){var t=r.find((function(t){return t.id===e.userId})),n=a.filter((function(t){return t.postId===e.id}));return Object(R.a)({},e,{user:t,comments:n})})),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var Q=(0,N.c)(Object(N.a)(L.a)),G=Object(N.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_POSTS:return Object(R.a)({},e,{posts:t.payload});case r.SET_LOADING:return Object(R.a)({},e,{isLoading:t.payload});case r.SET_ERROR:return Object(R.a)({},e,{error:t.payload});case r.SET_QUERY:return Object(R.a)({},e,{query:t.payload});case r.DELETE_POST:return Object(R.a)({},e,{posts:Object(j.a)(e.posts).filter((function(e){return e.id!==t.payload}))});case r.DELETE_COMMENT:return Object(R.a)({},e,{posts:Object(j.a)(e.posts).map((function(e){return Object(R.a)({},e,{comments:Object(j.a)(e.comments).filter((function(e){return e.id!==t.payload}))})}))});default:return e}}),k,Q),Y={setLoading:d,setPosts:p,setQuery:function(e){return{type:r.SET_QUERY,payload:e}},loadData:function(){return function(){var e=Object(h.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(f(!1)),t(d(!0)),e.next=5,A();case 5:n=e.sent,t(p(n)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),t(f(!0));case 13:return e.prev=13,t(d(!1)),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t){return e.apply(this,arguments)}}()}},B=Object(s.b)((function(e){return{posts:g(e),isLoading:x(e),query:w(e),error:D(e)}}),Y)((function(e){var t=e.query,n=e.posts,r=e.error,o=e.isLoading,u=e.loadData,s=e.setQuery,i=Object(a.useCallback)(l()(s,1e3),[]),m=Object(a.useMemo)((function(){return n.filter(function(e){return function(t){return t.title.includes(e)||t.body.includes(e)}}(t))}),[n,t]);return c.a.createElement("div",{className:"app"},e.posts.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"text",id:"input",className:"form-control",placeholder:"type search",onChange:function(e){var t=e.target.value;i(t.toLowerCase())}}),c.a.createElement(S,{posts:t?m:n})):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Dynamic list of posts"),r&&c.a.createElement("p",{className:"text-danger"},"Error occured"),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:u},o?"Loading.......":"Start load")))}));u.a.render(c.a.createElement(s.a,{store:G},c.a.createElement(B,null)),document.getElementById("root"))},6:function(e,t,n){"use strict";var r=n(17);n.d(t,"BASE_URL",(function(){return r.a})),n.d(t,"COMMENTS_URL",(function(){return r.b})),n.d(t,"POSTS_URL",(function(){return r.c})),n.d(t,"USERS_URL",(function(){return r.d}));n(18)}},[[23,1,2]]]);
//# sourceMappingURL=main.e15c9001.chunk.js.map