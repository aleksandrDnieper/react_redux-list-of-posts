(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{20:function(e,t,n){e.exports=n(41)},31:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),u=n.n(c),s=n(4),o=n(1),i=n.n(o),l=n(2),m=(n(31),n(32),n(17)),p=n.n(m),f=n(3),d=n(19),b=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://jsonplaceholder.typicode.com").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("/users");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("/comments");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("/posts");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,r,a,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([E(),v(),y()]);case 2:return t=e.sent,n=Object(d.a)(t,3),r=n[0],a=n[1],c=n[2],u=c.map((function(e){var t=r.find((function(t){return t.id===e.userId})),n=a.filter((function(t){return t.postId===e.id}));return Object(f.a)({},e,{user:t,comments:n})})),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var O=function(e){var t=e.user;return a.a.createElement("div",{className:"user"},a.a.createElement("p",null,"Contact info:"),a.a.createElement("p",null,"name: ".concat(t.name,", email: ").concat(t.email)),a.a.createElement("p",null,"address: ".concat(t.address.zipcode,", ").concat(t.address.street,", ").concat(t.address.city)))},j=n(7),N=n(5),k=n(18),x={posts:[],isLoading:!1,query:"",error:!1},T=function(e){return{type:"SET_POSTS",value:e}},g=function(e){return{type:"SET_LOADING",value:e}},w=function(e){return{type:"SET_ERROR",value:e}},_=function(e){return e.posts},L=function(e){return e.isLoading},S=function(e){return e.query},q=function(e){return e.error},C=Object(N.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return Object(f.a)({},e,{posts:t.value});case"SET_LOADING":return Object(f.a)({},e,{isLoading:t.value});case"SET_ERROR":return Object(f.a)({},e,{error:t.value});case"SET_QUERY":return Object(f.a)({},e,{query:t.value});case"DELETE_POST":return Object(f.a)({},e,{posts:Object(j.a)(e.posts).filter((function(e){return e.id!==t.value}))});case"DELETE_COMMENT":return Object(f.a)({},e,{posts:Object(j.a)(e.posts).map((function(e){return Object(f.a)({},e,{comments:Object(j.a)(e.comments).filter((function(e){return e.id!==t.value}))})}))});default:return e}}),x,Object(N.a)(k.a)),D={deleteCommentThunk:function(e){return function(t){t({type:"DELETE_COMMENT",value:e})}}},P=Object(s.b)(null,D)((function(e){var t=e.comment,n=t.name,r=t.body,c=t.email,u=t.id;return a.a.createElement("div",{className:"card text-white bg-info mb-3"},a.a.createElement("h3",{className:"card-header"},n),a.a.createElement("div",{className:"card-body"},a.a.createElement("blockquote",{className:"blockquote mb-0"},a.a.createElement("p",null,r),a.a.createElement("footer",{className:"blockquote-footer"},c))),a.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(){return e.deleteCommentThunk(u)}},"Delete comment"))})),R=function(e){return a.a.createElement("div",{className:"commentList"},a.a.createElement("div",{className:"comments"},e.comments.map((function(e){return a.a.createElement(P,{key:e.id,comment:e})}))))},I={deletePost:function(e){return{type:"DELETE_POST",value:e}}},M=Object(s.b)(null,I)((function(e){var t=e.post,n=t.title,r=t.body,c=t.id,u=t.user,s=t.comments;return a.a.createElement("div",{className:"list__item"},a.a.createElement("div",{className:"card"},a.a.createElement("h4",{className:"card-header"},n),a.a.createElement("div",{className:"card-body"},a.a.createElement("blockquote",{className:"blockquote mb-0"},a.a.createElement("p",null,r),a.a.createElement("footer",{className:"blockquote-footer"},a.a.createElement(O,{user:u}))),a.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.deletePost(c)}},"Delete post"),a.a.createElement(R,{comments:s}))))})),Q=function(e){var t=e.posts;return a.a.createElement("div",{className:"list"},t.map((function(e){return a.a.createElement(M,{key:e.id,post:e})})))},A={setLoading:g,setPosts:T,setQuery:function(e){return{type:"SET_QUERY",value:e}},loadData:function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(w(!1)),t(g(!0)),e.next=5,h();case 5:n=e.sent,t(T(n)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),t(w(!0));case 13:return e.prev=13,t(g(!1)),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t){return e.apply(this,arguments)}}()}},F=Object(s.b)((function(e){return{posts:_(e),isLoading:L(e),query:S(e),error:q(e)}}),A)((function(e){var t=function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loadData();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=Object(r.useCallback)(p()(e.setQuery,1e3),[]),c=Object(r.useMemo)((function(){return e.posts.filter((t=e.query,function(e){return e.title.includes(t)||e.body.includes(t)}));var t}),[e.posts,e.query]);return a.a.createElement("div",{className:"app"},e.posts.length?a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"text",id:"input",className:"form-control",placeholder:"type search",onChange:function(e){var t=e.target.value;n(t.toLowerCase())}}),a.a.createElement(Q,{posts:e.query?c:e.posts})):a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Dynamic list of posts"),e.error&&a.a.createElement("p",{className:"text-danger"},"Error occured"),a.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:t},e.isLoading?"Loading.......":"Start load")))}));u.a.render(a.a.createElement(s.a,{store:C},a.a.createElement(F,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.a8750e04.chunk.js.map